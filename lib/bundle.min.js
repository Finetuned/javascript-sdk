!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/base64-js/index.js","/node_modules/base64-js")},{_process:5,buffer:2}],2:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else foundIndex!==-1&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len,start<0&&(start=0)):start>len&&(start=len),end<0?(end+=len,end<0&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?(255-this[offset]+1)*-1:this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");
end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/buffer/index.js","/node_modules/buffer")},{_process:5,"base64-js":1,buffer:2,ieee754:3,isarray:4}],3:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{_process:5,buffer:2}],4:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/isarray/index.js","/node_modules/isarray")},{_process:5,buffer:2}],5:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/process/browser.js","/node_modules/process")},{_process:5,buffer:2}],6:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)null!=obj[key]&&pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]));return pairs.join("&")}function parseString(str){for(var parts,pair,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)pair=pairs[i],parts=pair.split("="),obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})}function Response(req,options){options=options||{},this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;Emitter.call(this),this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e,self.callback(err)}if(self.emit("response",res),err)return self.callback(err,res);if(res.status>=200&&res.status<300)return self.callback(err,res);var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err,new_err.response=res,new_err.status=res.status,self.callback(err||new_err,res)})}function request(method,url){return"function"==typeof url?new Request("GET",method).end(url):1==arguments.length?new Request("GET",method):new Request(method,url)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this||self:window;request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(field){return this.header[field.toLowerCase()]},Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]},Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&(str.length||str instanceof Object)?parse(str):null},Response.prototype.setStatusProperties=function(status){1223===status&&(status=204);var type=status/100|0;this.status=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.notFound=404==status,this.forbidden=403==status},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(fn){return fn(this),this},Request.prototype.timeout=function(ms){return this._timeout=ms,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},Request.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]},Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);return this.set("Authorization","Basic "+str),this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.field=function(name,val){return this._formData||(this._formData=new root.FormData),this._formData.append(name,val),this},Request.prototype.attach=function(field,file,filename){return this._formData||(this._formData=new root.FormData),this._formData.append(field,file,filename),this},Request.prototype.send=function(data){var obj=isObject(data),type=this.getHeader("Content-Type");if(obj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==type?this._data=this._data?this._data+"&"+data:data:this._data=(this._data||"")+data):this._data=data;return!obj||isHost(data)?this:(type||this.type("json"),this)},Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout(),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=!0,this.callback(err)},Request.prototype.timeoutError=function(){var timeout=this._timeout,err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout,this.callback(err)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(fn){var self=this,xhr=this.xhr=request.getXHR(),query=this._query.join("&"),timeout=this._timeout,data=this._formData||this._data;this._callback=fn||noop,xhr.onreadystatechange=function(){if(4==xhr.readyState){var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")}};var handleProgress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),self.emit("progress",e)};this.hasListeners("progress")&&(xhr.onprogress=handleProgress);try{xhr.upload&&this.hasListeners("progress")&&(xhr.upload.onprogress=handleProgress)}catch(e){}if(timeout&&!this._timer&&(this._timer=setTimeout(function(){self.timedout=!0,self.abort()},timeout)),query&&(query=request.serializeObject(query),this.url+=~this.url.indexOf("?")?"&"+query:"?"+query),xhr.open(this.method,this.url,!0),this._withCredentials&&(xhr.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&xhr.setRequestHeader(field,this.header[field]);return this.emit("request",this),xhr.send(data),this},request.Request=Request,request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=function(url,fn){var req=request("DELETE",url);return fn&&req.end(fn),req},request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},module.exports=request}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/superagent/lib/client.js","/node_modules/superagent/lib")},{_process:5,buffer:2,emitter:7,reduce:8}],7:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/superagent/node_modules/component-emitter/index.js","/node_modules/superagent/node_modules/component-emitter")},{_process:5,buffer:2}],8:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(arr,fn,initial){for(var idx=0,len=arr.length,curr=3==arguments.length?initial:arr[idx++];idx<len;)curr=fn.call(null,curr,arr[idx],++idx,arr);return curr}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/superagent/node_modules/reduce-component/index.js","/node_modules/superagent/node_modules/reduce-component")},{_process:5,buffer:2}],9:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Clan,ClanError,Endpoints,agent,prefixer;agent=require("superagent"),null==agent.Request.prototype.use&&(agent.Request.prototype.use=function(fn){return fn(this),this}),Endpoints=require("./endpoints.coffee"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),Clan=module.exports=function(apikey,apisecret,endpoint){var appCredentials;return null==endpoint&&(endpoint=null),null!=endpoint&&Endpoints.set(endpoint),appCredentials={"x-apikey":apikey,"x-apisecret":apisecret},{createGamerCredentials:function(gamer){return{gamer_id:gamer.gamer_id,gamer_secret:gamer.gamer_secret}},login:function(network,id,secret,options,cb){return"function"==typeof options&&(cb=options,options=null),null!=network?agent.post("/v1/login").use(prefixer).send({network:network,id:id,secret:secret,options:options}).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body,!1)}):(cb=id,agent.post("/v1/login/anonymous").use(prefixer).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body,!0)}))},resumeSession:function(gamer_id,gamer_secret,cb){return this.login("anonymous",gamer_id,gamer_secret,{preventRegistration:!0},cb)},loginWithShortCode:function(shortcode,cb){return this.login("restore","",shortcode,{preventRegistration:!0},cb)},runBatch:function(domain,batchName,params,cb){return agent.post("/v1/batch/"+domain+"/"+batchName).use(prefixer).set(appCredentials).send(params).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},vfs:function(domain){return null==domain&&(domain="private"),require("./gamevfs.coffee")(appCredentials,domain)},indexes:function(domain){return null==domain&&(domain="private"),require("./indexes.coffee")(appCredentials,domain)},sendResetMailPassword:function(userEmail,mailSender,mailTitle,mailBody,cb){var body;return body={from:mailSender,title:mailTitle,body:mailBody},agent.get("/v1/login/"+userEmail).use(prefixer).set(appCredentials).send(body).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},withGamer:function(gamer){var creds;return creds=this.createGamerCredentials(gamer),{transactions:function(domain){return null==domain&&(domain="private"),require("./transactions.coffee")(appCredentials,creds,domain)},gamervfs:function(domain){return null==domain&&(domain="private"),require("./gamervfs.coffee")(appCredentials,creds,domain)},friends:function(domain){return null==domain&&(domain="private"),require("./friends.coffee")(appCredentials,creds,domain)},profile:function(){return require("./profile.coffee")(appCredentials,creds)},properties:function(domain){return null==domain&&(domain="private"),require("./properties.coffee")(appCredentials,creds,domain)},leaderboards:function(domain){return null==domain&&(domain="private"),require("./leaderboards.coffee")(appCredentials,creds,domain)},matches:function(domain){return null==domain&&(domain="private"),require("./matches.coffee")(appCredentials,creds,domain)},kv:function(domain){return null==domain&&(domain="private"),require("./kvstore.coffee")(appCredentials,creds,domain)},events:function(domain){return null==domain&&(domain="private"),require("./event.coffee")(appCredentials,creds,domain)},runBatch:function(domain,batchName,params,cb){return agent.post("/v1/gamer/batch/"+domain+"/"+batchName).use(prefixer).set(appCredentials).auth(creds.gamer_id,creds.gamer_secret).send(params).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},outline:function(cb){return agent.get("/v1/gamer/outline").use(prefixer).set(appCredentials).auth(creds.gamer_id,creds.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},convertTo:function(network,id,secret,cb){return agent.post("/v1/gamer/convert").use(prefixer).set(appCredentials).auth(creds.gamer_id,creds.gamer_secret).send({network:network,id:id,secret:secret}).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},logout:function(cb){return agent.post("/v1/gamer/logout").use(prefixer).set(appCredentials).auth(creds.gamer_id,creds.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}},privateDomain:"private"}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/Clan.coffee","/src")},{"./ClanError.coffee":10,"./endpoints.coffee":11,"./event.coffee":12,"./friends.coffee":13,"./gamervfs.coffee":14,"./gamevfs.coffee":15,"./indexes.coffee":17,"./kvstore.coffee":18,"./leaderboards.coffee":19,"./matches.coffee":20,"./prefixer.coffee":21,"./profile.coffee":22,"./properties.coffee":23,"./transactions.coffee":24,_process:5,buffer:2,superagent:6}],10:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,endpoints,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;endpoints=require("./endpoints.coffee"),ClanError=function(superClass){function ClanError(status,response){this.status=status,this.response=response,this.message=this.response.message,this.type=this.response.type,this.name=this.response.name,(this.status<100||this.status>=300&&this.status<400||this.status>=500)&&endpoints.tryOther()}return extend(ClanError,superClass),ClanError}(Error),module.exports=ClanError}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/ClanError.coffee","/src")},{"./endpoints.coffee":11,_process:5,buffer:2}],11:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var endpoints;endpoints={url:"https://sandbox-api01.clanofthecloud.mobi",current:{url:"https://sandbox-api[id].clanofthecloud.mobi",count:2},sandbox:{url:"https://sandbox-api[id].clanofthecloud.mobi",count:2},prod:{url:"https://prod-api[id].clanofthecloud.mobi",count:16},dev:{url:"http://localhost:2000",count:1}},module.exports={set:function(endpoint){if("sandbox"===endpoint)endpoints.current=endpoints.sandbox;else if("prod"===endpoint)endpoints.current=endpoints.prod;else if("dev"===endpoint)endpoints.current=endpoints.dev;else{if("string"!=typeof endpoint||""===endpoint)throw new Error("endpoint must be either dev|sandbox|prod or an url");endpoints.current={url:endpoint,count:1}}return endpoints.url=endpoints.current.url,this.tryOther()},current:function(){return null!=endpoints.url?endpoints.url:(this.tryOther,endpoints.url)},tryOther:function(){if(endpoints.current.url.indexOf("[id]")!==-1)return endpoints.url=endpoints.current.url.replace("[id]",("0"+Math.floor(Math.random()*endpoints.current.count+1)).slice(-2)),console.log("new url : "+endpoints.url)}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/endpoints.coffee","/src")},{_process:5,buffer:2}],12:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,_timeout,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),_timeout=5e4,module.exports=function(appCredentials,gamerCred,domain){return{setTimeout:function(timeout){return _timeout=timeout},send:function(gamer_id,message,cb){return agent.post("/v1/gamer/event/"+domain+"/"+gamer_id).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(message).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},sendVolatile:function(gamer_id,message,cb){return agent.post("/v1/gamer/event/volatile/"+domain+"/"+gamer_id).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(message).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},receive:function(ack,cb){return null==ack&&(ack="auto"),null==cb&&(cb=ack,ack="auto"),agent.get("/v1/gamer/event/"+domain+"?ack="+ack+"&timeout="+_timeout).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):204===res.status?cb(null,null):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/event.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],13:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(cb){return agent.get("/v2.6/gamer/friends/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},getBlacklisted:function(cb){return agent.get("/v2.6/gamer/friends/"+domain+"?status=blacklist").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},status:function(friendid,newstatus,cb){return agent.post("/v2.6/gamer/friends/"+domain+"/"+friendid+"?status="+newstatus).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/friends.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],14:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(key,cb){return null==key&&(key=""),agent.get("/v1/gamer/vfs/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(key,value,cb){return null==key&&(key=""),agent.put("/v1/gamer/vfs/"+domain+"/"+key).use(prefixer).type("json").send(JSON.stringify(value)).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},del:function(key,cb){return null==key&&(key=""),agent.del("/v1/gamer/vfs/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body);
})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/gamervfs.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],15:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,domain){return{get:function(key,cb){return null==key&&(key=""),agent.get("/v1/vfs/"+domain+"/"+key).use(prefixer).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/gamevfs.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],16:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){global=window=window?window:global?global:null,"undefined"!=typeof window&&null!==window&&(window.Clan=require("./Clan.coffee"))}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/index.coffee","/src")},{"./Clan.coffee":9,_process:5,buffer:2}],17:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,domain){return{set:function(indexName,id,properties,payload,cb){var index;return index={id:id,properties:properties,payload:payload},agent.post("/v1/index/"+domain+"/"+indexName).use(prefixer).set(appCredentials).type("json").send(index).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},get:function(indexName,id,cb){return agent.get("/v1/index/"+domain+"/"+indexName+"/"+id).use(prefixer).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},del:function(indexName,id,cb){return agent.del("/v1/index/"+domain+"/"+indexName+"/"+id).use(prefixer).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},search:function(indexName,q,sort,skip,limit,cb){var query;return query="?q="+encodeURIComponent(q),null!=skip&&(query+="&from="+skip),null!=limit&&(query+="&max="+limit),null!=sort&&(query+="&sort="+encodeURIComponent(sort)),agent.post("/v1/index/"+domain+"/"+indexName+"/search"+query).use(prefixer).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},query:function(indexName,query,skip,limit,cb){var param;return param="?from="+(null!=skip?Number(skip):0),null!=limit&&(param+="&max="+limit),agent.post("/v1/index/"+domain+"/"+indexName+"/search"+param).use(prefixer).set(appCredentials).type("json").send(query).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/indexes.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],18:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(key,cb){return null==key&&(key=""),agent.get("/v1/gamer/kv/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(key,value,cb){return null==key&&(key=""),agent.post("/v1/gamer/kv/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send({value:value}).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},del:function(key,cb){return null==key&&(key=""),agent.del("/v1/gamer/kv/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},acl:function(key,acl,cb){return null==key&&(key=""),agent.post("/v1/gamer/kv/"+domain+"/"+key+"/acl").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send({acl:acl}).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/kvstore.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],19:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{set:function(board,order,score,cb){return agent.post("/v2.6/gamer/scores/"+domain+"/"+board+"?order="+order).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(score).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},get:function(cb){return agent.get("/v2.6/gamer/bestscores/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},getHighscores:function(board,page,count,cb){return agent.get("/v2.6/gamer/scores/"+domain+"/"+board+"?page="+page+"&count="+count).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/leaderboards.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],20:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{list:function(properties,options,cb){var queryoptions;return null==options&&(options=null),null==cb&&(cb=options,options=null),queryoptions="&properties="+JSON.stringify(properties),null!=(null!=options?options.full:void 0)&&(queryoptions+="&full"),null!=(null!=options?options.participating:void 0)&&(queryoptions+="&participating"),null!=(null!=options?options.finished:void 0)&&(queryoptions+="&finished"),null!=(null!=options?options.invited:void 0)&&(queryoptions+="&invited"),null!=(null!=options?options.skip:void 0)&&(queryoptions+="&skip="+options.skip),null!=(null!=options?options.limit:void 0)&&(queryoptions+="&limit="+options.limit),agent.get("/v1/gamer/matches?domain="+domain+queryoptions).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},create:function(matchData,cb){return agent.post("/v1/gamer/matches?domain="+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(matchData).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},get:function(matchID,cb){return agent.get("/v1/gamer/matches/"+matchID).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},del:function(matchID,cb){return agent.del("/v1/gamer/matches/"+matchID).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},join:function(matchID,osn,cb){return agent.post("/v1/gamer/matches/"+matchID+"/join").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(osn).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},leave:function(matchID,osn,cb){return agent.post("/v1/gamer/matches/"+matchID+"/leave").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(osn).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},invite:function(matchID,friendID,osn,cb){return agent.post("/v1/gamer/matches/"+matchID+"/invite/"+friendID).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(osn).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},dismiss:function(matchID,cb){return agent.del("/v1/gamer/matches/"+matchID+"/invitation").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},move:function(matchID,lastEventID,move,osn,cb){return"function"==typeof osn&&(cb=osn,osn=null),null!=osn&&(move.osn=osn),agent.post("/v1/gamer/matches/"+matchID+"/move?lastEventId="+lastEventID).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(move).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},finish:function(matchID,lastEventID,osn,cb){return agent.post("/v1/gamer/matches/"+matchID+"/finish?lastEventId="+lastEventID).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(osn).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},draw:function(matchID,lastEventID,count,osn,cb){return agent.post("/v1/gamer/matches/"+matchID+"/shoe/draw?lastEventId="+lastEventID+"&count="+count).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).type("json").send(osn).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/matches.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],21:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Endpoints;Endpoints=require("./endpoints.coffee"),module.exports=function(request){return request.url=Endpoints.current()+request.url,request}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/prefixer.coffee","/src")},{"./endpoints.coffee":11,_process:5,buffer:2}],22:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred){return{get:function(cb){return agent.get("/v1/gamer/profile").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(newProfile,cb){var key;return"undefined"!=typeof key&&null!==key||(key=""),agent.post("/v1/gamer/profile").use(prefixer).type("json").send(newProfile).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/profile.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],23:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(key,cb){return null==key&&(key=""),agent.get("/v2.6/gamer/property/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(key,value,cb){return null==key&&(key=""),agent.post("/v2.6/gamer/property/"+domain+"/"+key).use(prefixer).type("json").send({value:value}).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},delete:function(key,cb){return null==key&&(key=""),agent.del("/v2.6/gamer/property/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},load:function(cb){return agent.get("/v2.6/gamer/property/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},save:function(data,cb){return agent.post("/v2.6/gamer/property/"+domain).use(prefixer).type("json").send(data).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},remove:function(cb){return agent.del("/v2.6/gamer/property/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},find:function(target,cb){return agent.get("/v2.6/gamer/matchproperties/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(target).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/properties.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}],24:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{balance:function(cb){return agent.get("/v1/gamer/tx/"+domain+"/balance").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},create:function(tx,desc,cb){return agent.post("/v2.2/gamer/tx/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send({transaction:tx,description:desc}).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},history:function(unit,skip,limit,cb){var options;return null==unit&&(unit=null),options={skip:skip,limit:limit},null!=unit&&(options.unit=unit),agent.get("/v2.4/gamer/tx/"+domain).use(prefixer).query(options).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/src/transactions.coffee","/src")},{"./ClanError.coffee":10,"./prefixer.coffee":21,_process:5,buffer:2,superagent:6}]},{},[16]);
