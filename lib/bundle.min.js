!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1}function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)null!=obj[key]&&pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]));return pairs.join("&")}function parseString(str){for(var parts,pair,obj={},pairs=str.split("&"),i=0,len=pairs.length;len>i;++i)pair=pairs[i],parts=pair.split("="),obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1]);return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;len>i;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})}function Response(req,options){options=options||{},this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function Request(method,url){var self=this;Emitter.call(this),this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e}self.callback(err,res)})}function request(method,url){return"function"==typeof url?new Request("GET",method).end(url):1==arguments.length?new Request("GET",method):new Request(method,url)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this:window,trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(field){return this.header[field.toLowerCase()]},Response.prototype.setHeaderProperties=function(){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]},Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&str.length?parse(str):null},Response.prototype.setStatusProperties=function(status){var type=status/100|0;this.status=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.clientError=4==type,this.serverError=5==type,this.error=4==type||5==type?this.toError():!1,this.accepted=202==status,this.noContent=204==status||1223==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.notFound=404==status,this.forbidden=403==status},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(fn){return fn(this),this},Request.prototype.timeout=function(ms){return this._timeout=ms,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},Request.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]},Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);return this.set("Authorization","Basic "+str),this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.field=function(name,val){return this._formData||(this._formData=new FormData),this._formData.append(name,val),this},Request.prototype.attach=function(field,file,filename){return this._formData||(this._formData=new FormData),this._formData.append(field,file,filename),this},Request.prototype.send=function(data){var obj=isObject(data),type=this.getHeader("Content-Type");if(obj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==type?this._data?this._data+"&"+data:data:(this._data||"")+data):this._data=data;return obj?(type||this.type("json"),this):this},Request.prototype.callback=function(err,res){var fn=this._callback;return this.clearTimeout(),2==fn.length?fn(err,res):err?this.emit("error",err):void fn(res)},Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=!0,this.callback(err)},Request.prototype.timeoutError=function(){var timeout=this._timeout,err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout,this.callback(err)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(fn){var self=this,xhr=this.xhr=getXHR(),query=this._query.join("&"),timeout=this._timeout,data=this._formData||this._data;if(this._callback=fn||noop,xhr.onreadystatechange=function(){return 4==xhr.readyState?0==xhr.status?self.aborted?self.timeoutError():self.crossDomainError():void self.emit("end"):void 0},xhr.upload&&(xhr.upload.onprogress=function(e){e.percent=e.loaded/e.total*100,self.emit("progress",e)}),timeout&&!this._timer&&(this._timer=setTimeout(function(){self.abort()},timeout)),query&&(query=request.serializeObject(query),this.url+=~this.url.indexOf("?")?"&"+query:"?"+query),xhr.open(this.method,this.url,!0),this._withCredentials&&(xhr.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&xhr.setRequestHeader(field,this.header[field]);return this.emit("request",this),xhr.send(data),this},request.Request=Request,request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=function(url,fn){var req=request("DELETE",url);return fn&&req.end(fn),req},request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},module.exports=request},{emitter:2,reduce:3}],2:[function(require,module){function Emitter(obj){return obj?mixin(obj):void 0}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],3:[function(require,module){module.exports=function(arr,fn,initial){for(var idx=0,len=arr.length,curr=3==arguments.length?initial:arr[idx++];len>idx;)curr=fn.call(null,curr,arr[idx],++idx,arr);return curr}},{}],4:[function(require,module){var Clan,ClanError,agent,prefixer;agent=require("superagent"),null==agent.Request.prototype.use&&(agent.Request.prototype.use=function(fn){return fn(this),this}),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),Clan=module.exports=function(apikey,apisecret){var appCredentials;return appCredentials={"x-apikey":apikey,"x-apisecret":apisecret},{createGamerCredentials:function(gamer){return{gamer_id:gamer.gamer_id,gamer_secret:gamer.gamer_secret}},login:function(network,id,secret,options,cb){return"function"==typeof options&&(cb=options,options=null),null!=network?agent.post("/v1/login").use(prefixer).send({network:network,id:id,secret:secret,options:options}).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body,!1)}):(cb=id,agent.post("/v1/login/anonymous").use(prefixer).set(appCredentials).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body,!0)}))},echo:function(cb){return agent.get("/echo/index.html").use(prefixer).end(function(err){return cb(err)})},withGamer:function(gamer){var creds;return creds=this.createGamerCredentials(gamer),{transactions:function(domain){return null==domain&&(domain="private"),require("./transactions.coffee")(appCredentials,creds,domain)},gamervfs:function(domain){return null==domain&&(domain="private"),require("./gamervfs.coffee")(appCredentials,creds,domain)},friends:function(domain){return null==domain&&(domain="private"),require("./friends.coffee")(appCredentials,creds,domain)},profile:function(){return require("./profile.coffee")(appCredentials,creds)},properties:function(domain){return null==domain&&(domain="private"),require("./properties.coffee")(appCredentials,creds,domain)},leaderboards:function(domain){return null==domain&&(domain="private"),require("./leaderboards.coffee")(appCredentials,creds,domain)},events:function(domain){return require("./event.coffee")(appCredentials,creds,domain)},convertTo:function(network,id,secret,cb){return agent.post("/v1/gamer/convert").use(prefixer).set(appCredentials).auth(creds.gamer_id,creds.gamer_secret).send({network:network,id:id,secret:secret}).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},logout:function(cb){return agent.post("/v1/gamer/logout").use(prefixer).set(appCredentials).auth(creds.gamer_id,creds.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}},privateDomain:"private"}}},{"./ClanError.coffee":5,"./event.coffee":6,"./friends.coffee":7,"./gamervfs.coffee":8,"./leaderboards.coffee":10,"./prefixer.coffee":11,"./profile.coffee":12,"./properties.coffee":13,"./transactions.coffee":14,superagent:1}],5:[function(require,module){var ClanError,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;ClanError=function(superClass){function ClanError(status,response){this.status=status,this.response=response,this.message=this.response.message,this.type=this.response.type,this.name=this.response.name}return extend(ClanError,superClass),ClanError}(Error),module.exports=ClanError},{}],6:[function(require,module){var ClanError,_timeout,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),_timeout=5e4,module.exports=function(appCredentials,gamerCred,domain){return{setTimeout:function(timeout){return _timeout=timeout},send:function(gamer_id,message,cb){return agent.post("/v1/gamer/event/"+domain+"/"+gamer_id).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(message).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},receive:function(ack,cb){return null==ack&&(ack="auto"),null==cb&&(cb=ack,ack="auto"),agent.get("/v1/gamer/event/"+domain+"?ack="+ack+"&timeout="+_timeout).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):204===res.status?cb(null,null):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}],7:[function(require,module){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(cb){return agent.get("/v2.6/gamer/friends/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},getBlacklisted:function(cb){return agent.get("/v2.6/gamer/friends/"+domain+"?status=blacklist").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},status:function(friendid,newstatus,cb){return agent.post("/v2.6/gamer/friends/"+domain+"/"+friendid+"?status="+newstatus).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}],8:[function(require,module){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(key,cb){return null==key&&(key=""),agent.get("/v1/gamer/vfs/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(key,value,cb){return null==key&&(key=""),agent.put("/v1/gamer/vfs/"+domain+"/"+key).use(prefixer).type("json").send(value).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},del:function(key,cb){return null==key&&(key=""),agent.del("/v1/gamer/vfs/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}],9:[function(require){window.Clan=require("./Clan.coffee")},{"./Clan.coffee":4}],10:[function(require,module){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{set:function(board,order,score,cb){return agent.post("/v2.6/gamer/scores/"+domain+"/"+board+"?order="+order).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(score).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},get:function(cb){return agent.get("/v2.6/gamer/bestscores/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},getHighscores:function(board,page,count,cb){return agent.get("/v2.6/gamer/scores/"+domain+"/"+board+"?page="+page+"&count="+count).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}],11:[function(require,module){module.exports=function(request){return request.url="http://localhost:2000"+request.url}},{}],12:[function(require,module){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred){return{get:function(cb){return agent.get("/v1/gamer/profile").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(newProfile,cb){var key;return("undefined"==typeof key||null===key)&&(key=""),agent.post("/v1/gamer/profile").use(prefixer).type("json").send(newProfile).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}],13:[function(require,module){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{get:function(key,cb){return null==key&&(key=""),agent.get("/v2.6/gamer/property/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},set:function(key,value,cb){return null==key&&(key=""),agent.post("/v2.6/gamer/property/"+domain+"/"+key).use(prefixer).type("json").send({value:value}).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},"delete":function(key,cb){return null==key&&(key=""),agent.del("/v2.6/gamer/property/"+domain+"/"+key).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},load:function(cb){return agent.get("/v2.6/gamer/property/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},save:function(data,cb){return agent.post("/v2.6/gamer/property/"+domain).use(prefixer).type("json").send(data).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},remove:function(cb){return agent.del("/v2.6/gamer/property/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},find:function(target,cb){return agent.get("/v2.6/gamer/matchproperties/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send(target).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}],14:[function(require,module){var ClanError,agent,prefixer;agent=require("superagent"),prefixer=require("./prefixer.coffee"),ClanError=require("./ClanError.coffee"),module.exports=function(appCredentials,gamerCred,domain){return{balance:function(cb){return agent.get("/v1/gamer/tx/"+domain+"/balance").use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},create:function(tx,desc,cb){return agent.post("/v2.2/gamer/tx/"+domain).use(prefixer).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).send({transaction:tx,description:desc}).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})},history:function(unit,skip,limit,cb){var options;return null==unit&&(unit=null),options={skip:skip,limit:limit},null!=unit&&(options.unit=unit),agent.get("/v2.4/gamer/tx/"+domain).use(prefixer).query(options).set(appCredentials).auth(gamerCred.gamer_id,gamerCred.gamer_secret).end(function(err,res){return null!=err?cb(err):res.error?cb(new ClanError(res.status,res.body)):cb(null,res.body)})}}}},{"./ClanError.coffee":5,"./prefixer.coffee":11,superagent:1}]},{},[9]);